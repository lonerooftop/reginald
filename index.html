<html>
    <body>
        Running test, result: <span id="result"></span>
    </body>
</html>
<script type="application/javascript" src="index.js"></script>
<script type="application/javascript">
  var TESTJPEG = "data:image/jpeg;base64, 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";
  var NRFLOORS = 9;
  var VERSION = 1;
  decodeHeatmap(TESTJPEG, NRFLOORS, VERSION).then(function(result) {
    console.assert(result.width === 64, "width");
    console.assert(result.height === 64, "height");
    console.assert(result.floors[0][45 * result.width + 32] === 0.66, "spot");
    document.getElementById("result").innerText =
        (result.floors[0][45 * result.width + 32] === 0.66 ? "ok" : "fail");
  });
</script>
